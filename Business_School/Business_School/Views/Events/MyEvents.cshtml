@model Business_School.ViewModels.Event.MyEventsVM
@{
 ViewData["Title"] = "Mis Eventos";
}
<h2>Mis Eventos</h2>
<h3>Próximos</h3>
<table class="table">
 <thead><tr><th>Título</th><th>Fecha</th><th>Estado</th><th>Puntos</th><th></th></tr></thead>
 <tbody>
 @foreach (var e in Model.UpcomingEvents)
 {
 <tr>
 <td>@e.Title</td>
 <td>@e.StartDate.ToString("dd/MM/yyyy HH:mm")</td>
 <td>@(e.HasAttended ? "Asistido" : "Pendiente")</td>
 <td>@e.PointsAwarded</td>
 <td>
 @if (!e.HasAttended)
 {
 <form asp-action="MarkAttendance" method="post" class="d-inline">
 <input type="hidden" name="eventId" value="@e.EventId" />
 <button type="submit" class="btn btn-sm btn-success">Marcar asistencia</button>
 </form>
 }
 <a asp-action="Details" asp-route-id="@e.EventId" class="btn btn-sm btn-primary">Ver</a>
 </td>
 </tr>
 }
 </tbody>
</table>
<h3>Pasados</h3>
<table class="table">
 <thead><tr><th>Título</th><th>Fecha</th><th>Asistido</th><th>Puntos</th></tr></thead>
 <tbody>
 @foreach (var e in Model.PastEvents)
 {
 <tr>
 <td>@e.Title</td>
 <td>@e.StartDate.ToString("dd/MM/yyyy HH:mm")</td>
 <td>@(e.HasAttended ? "Sí" : "No")</td>
 <td>@e.PointsAwarded</td>
 </tr>
 }
 </tbody>
</table>